var e=Object.defineProperty,t=(t,s,i)=>(((t,s,i)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i})(t,"symbol"!=typeof s?s+"":s,i),i);import{o as s,c as i,a as n,p as a,b as o,d as r,e as l,u as c,r as d,w as h,f,F as u,g as p,n as v,h as g,i as m,j as b,t as y,k as x,l as _,E as w,m as k,q as C,s as T,v as I,x as A,y as E,z as R,A as O,T as S,B,C as L,D as N}from"./index-b5355031.js";import{_ as U}from"./_plugin-vue_export-helper-1b428a4d.js";import j from"./settings-5917bc6b.js";import{a as q,i as P,r as F,b as M}from"./UserApi-253232f7.js";import{C as D,a as V,b as z}from"./findPassword-042e4c3c.js";/* empty css                 */const H={},K={class:"partial-code main no-scrollbar"},J=[n('<section class="section1_1" data-v-b3f3d7f4><div class="flex_col" data-v-b3f3d7f4><h1 class="hero_title" data-v-b3f3d7f4>Unlock the power of AI</h1><h4 class="highlights" data-v-b3f3d7f4>Meet the synapse of our ai chat app revolutionizing conversations</h4></div><div class="box" data-v-b3f3d7f4><div class="box1" data-v-b3f3d7f4><div class="text" data-v-b3f3d7f4>Monthly</div></div><div class="box1" style="background:transparent;" data-v-b3f3d7f4><div class="text" data-v-b3f3d7f4>Anualy (-20%)</div></div></div><div class="flex_row" data-v-b3f3d7f4><div class="flex_row__cell" data-v-b3f3d7f4><div class="box2" data-v-b3f3d7f4><div class="flex_col1" data-v-b3f3d7f4><h1 class="title" data-v-b3f3d7f4>Free</h1><h5 class="highlights1" data-v-b3f3d7f4>Basic chat functionality</h5><div class="flex_row1" data-v-b3f3d7f4><div class="flex_row1__cell" data-v-b3f3d7f4><h1 class="title1" data-v-b3f3d7f4>$</h1></div><div class="flex_row1__cell1" data-v-b3f3d7f4><h1 class="hero_title1" data-v-b3f3d7f4>0</h1></div><div class="flex_row1__cell2" data-v-b3f3d7f4><h1 class="title11" data-v-b3f3d7f4>/ mo</h1></div></div><div class="text11" data-v-b3f3d7f4>Free forever</div></div><div class="box3" data-v-b3f3d7f4><div class="flex_row2" data-v-b3f3d7f4><div class="flex_row2__cell" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="text2" data-v-b3f3d7f4>5 chatbots</div></div><div class="flex_row3" data-v-b3f3d7f4><div class="flex_row3__cell" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row3__spacer" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Up to 1000 messages/mo</div></div><div class="flex_row3" data-v-b3f3d7f4><div class="flex_row3__cell1" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row3__spacer1" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Basic analytics</div></div><div class="flex_row3" data-v-b3f3d7f4><div class="flex_row3__cell2" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row3__spacer2" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Basic analytics</div></div><div class="flex_row4" data-v-b3f3d7f4><div class="icon1" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row4__spacer" data-v-b3f3d7f4></div><div class="text12" data-v-b3f3d7f4>Custom chatbot</div></div><div class="flex_row41" data-v-b3f3d7f4><div class="icon1" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row41__spacer" data-v-b3f3d7f4></div><div class="text12" data-v-b3f3d7f4>No support</div></div><div class="box4" data-v-b3f3d7f4><div class="text21" data-v-b3f3d7f4>Current plan</div></div></div></div></div><div class="flex_row__spacer" data-v-b3f3d7f4></div><div class="flex_row__cell" data-v-b3f3d7f4><div class="box5" data-v-b3f3d7f4><div class="flex_col1" data-v-b3f3d7f4><div class="flex_row5" data-v-b3f3d7f4><div class="flex_row5__cell" data-v-b3f3d7f4><h1 class="title2" data-v-b3f3d7f4>Standard</h1></div><div class="flex_row5__spacer" data-v-b3f3d7f4></div><div class="flex_row5__cell1" data-v-b3f3d7f4><div class="box6" data-v-b3f3d7f4><div class="info" data-v-b3f3d7f4>Popular</div></div></div></div><h5 class="highlights1" data-v-b3f3d7f4>Advanced chat features</h5><div class="flex_row1" data-v-b3f3d7f4><div class="flex_row1__cell3" data-v-b3f3d7f4><h1 class="title1" data-v-b3f3d7f4>$</h1></div><div class="flex_row1__cell4" data-v-b3f3d7f4><h1 class="hero_title11" data-v-b3f3d7f4>29</h1></div><div class="flex_row1__cell5" data-v-b3f3d7f4><h1 class="title11" data-v-b3f3d7f4>/ mo</h1></div></div><div class="text11" data-v-b3f3d7f4>Per month, per team members</div></div><div class="box7" data-v-b3f3d7f4><div class="flex_row6" data-v-b3f3d7f4><div class="flex_row6__cell" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row6__spacer" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>10 chatbots</div></div><div class="flex_row3" data-v-b3f3d7f4><div class="flex_row3__cell3" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row3__spacer3" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Up to 5000 messages/mo</div></div><div class="flex_row3" data-v-b3f3d7f4><div class="flex_row3__cell4" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row3__spacer4" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Basic analytics</div></div><div class="flex_row3" data-v-b3f3d7f4><div class="flex_row3__cell5" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row3__spacer5" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Basic analytics</div></div><div class="flex_row3" data-v-b3f3d7f4><div class="flex_row3__cell6" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row3__spacer6" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Custom chatbot</div></div><div class="flex_row3" data-v-b3f3d7f4><div class="flex_row3__cell7" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row3__spacer7" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Email support</div></div><div class="box8" data-v-b3f3d7f4><div class="text22" data-v-b3f3d7f4>Upgrade</div></div></div></div></div><div class="flex_row__spacer" data-v-b3f3d7f4></div><div class="flex_row__cell" data-v-b3f3d7f4><div class="box9" data-v-b3f3d7f4><h1 class="title3" data-v-b3f3d7f4>Pro</h1><h5 class="highlights11" data-v-b3f3d7f4>Custom chat solutions</h5><div class="flex_row14" data-v-b3f3d7f4><h1 class="title12" data-v-b3f3d7f4>$</h1><div class="flex_row14__cell" data-v-b3f3d7f4><h1 class="hero_title12" data-v-b3f3d7f4>49</h1></div><div class="flex_row14__cell1" data-v-b3f3d7f4><h1 class="title13" data-v-b3f3d7f4>/ mo</h1></div></div><div class="text13" data-v-b3f3d7f4>Per month, per team members</div><div class="box7" data-v-b3f3d7f4><div class="flex_row6" data-v-b3f3d7f4><div class="flex_row6__cell1" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row6__spacer1" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Unlimited chatbots</div></div><div class="flex_row3" data-v-b3f3d7f4><div class="flex_row3__cell8" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row3__spacer8" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Unlimited messages</div></div><div class="flex_row3" data-v-b3f3d7f4><div class="flex_row3__cell9" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row3__spacer9" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Custom analytics</div></div><div class="flex_row3" data-v-b3f3d7f4><div class="flex_row3__cell10" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row3__spacer10" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Custom integrations</div></div><div class="flex_row3" data-v-b3f3d7f4><div class="flex_row3__cell11" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row3__spacer11" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Custom chatbot</div></div><div class="flex_row3" data-v-b3f3d7f4><div class="flex_row3__cell12" data-v-b3f3d7f4><svg class="icon" data-v-b3f3d7f4><use href="#checkCircle" data-v-b3f3d7f4></use></svg></div><div class="flex_row3__spacer12" data-v-b3f3d7f4></div><div class="text2" data-v-b3f3d7f4>Priority email and chat support</div></div><div class="box8" data-v-b3f3d7f4><div class="text22" data-v-b3f3d7f4>Upgrade</div></div></div></div></div></div></section><section class="section2_1" data-v-b3f3d7f4><section class="section2" data-v-b3f3d7f4><div class="flex_col2" data-v-b3f3d7f4><h2 class="medium_title" data-v-b3f3d7f4>Usage</h2><div class="flex_row7" data-v-b3f3d7f4><div class="flex_row7__cell" style="background-color:rgb(75, 171, 113);" data-v-b3f3d7f4></div><div class="flex_row7__cell1" data-v-b3f3d7f4><div class="text14" data-v-b3f3d7f4>Used</div></div><div class="flex_row7__spacer" data-v-b3f3d7f4></div><div class="flex_row7__cell" style="background-color:#5F44FF;" data-v-b3f3d7f4></div><div class="flex_row7__cell2" data-v-b3f3d7f4><div class="text14" data-v-b3f3d7f4>Left</div></div><div class="flex_row7__spacer" data-v-b3f3d7f4></div><div class="flex_row7__cell" style="background-color:#8364FF;" data-v-b3f3d7f4></div><div class="flex_row7__cell3" data-v-b3f3d7f4><div class="text14" data-v-b3f3d7f4>Bonus</div></div></div><div class="flex_row8" data-v-b3f3d7f4><div class="group" data-v-b3f3d7f4><div class="group1" data-v-b3f3d7f4><div class="rect" data-v-b3f3d7f4></div><div class="rect1" data-v-b3f3d7f4></div></div><div class="rect2" data-v-b3f3d7f4></div></div><div class="flex_row8__spacer" data-v-b3f3d7f4></div><div class="text23" data-v-b3f3d7f4>$0.20 / $18.00</div></div><div class="flex_col3" data-v-b3f3d7f4><h2 class="medium_title" data-v-b3f3d7f4>Earn credits by inviting friends ðŸŽ‰</h2><div class="text3" data-v-b3f3d7f4>For every friend you invite, you&#39;ll earn 5 credits, and they&#39;ll get extra 5 credits.</div><div class="box10" data-v-b3f3d7f4><h5 class="highlights2" data-v-b3f3d7f4>https://easy-peasy.ai/?from=7</h5></div></div></div></section></section><section class="section3_1" data-v-b3f3d7f4><section class="section3" data-v-b3f3d7f4><div class="flex_col4" data-v-b3f3d7f4><h2 class="medium_title1" data-v-b3f3d7f4>Your referrals</h2><h5 class="highlights3_box" data-v-b3f3d7f4><span class="highlights3" data-v-b3f3d7f4><span class="highlights3_span0" data-v-b3f3d7f4>Total Invite: </span><span class="highlights3_span1" data-v-b3f3d7f4>4</span></span></h5><div class="text31" data-v-b3f3d7f4>A list of all the users registered by your invite link.</div><div class="flex_col5" data-v-b3f3d7f4><div class="content_box" data-v-b3f3d7f4><div class="flex_row9" data-v-b3f3d7f4><div class="flex_row9__cell" data-v-b3f3d7f4><div class="text15" data-v-b3f3d7f4>Referral</div></div><div class="flex_row9__spacer" data-v-b3f3d7f4></div><div class="flex_row9__cell1" data-v-b3f3d7f4><div class="text16" data-v-b3f3d7f4>Updated at</div></div><div class="flex_row9__spacer1" data-v-b3f3d7f4></div><div class="flex_row9__cell2" data-v-b3f3d7f4><div class="text17" data-v-b3f3d7f4>Status</div></div></div></div><div class="flex_row10" data-v-b3f3d7f4><div class="flex_row10__cell" data-v-b3f3d7f4><div class="flex_row11" data-v-b3f3d7f4><div class="flex_row11__cell" data-v-b3f3d7f4></div><div class="flex_row11__cell1" data-v-b3f3d7f4><div class="flex_col6" data-v-b3f3d7f4><h5 class="highlights12" data-v-b3f3d7f4>Tran Mau Tri Tam</h5><div class="info1" data-v-b3f3d7f4>qi.sun@gmail.com</div></div></div></div></div><div class="flex_row10__spacer" data-v-b3f3d7f4></div><div class="flex_row10__cell1" data-v-b3f3d7f4><h5 class="highlights13" data-v-b3f3d7f4>17/05/2023</h5></div><div class="flex_row10__spacer1" data-v-b3f3d7f4></div><div class="flex_row10__cell2" data-v-b3f3d7f4><h5 class="highlights14" data-v-b3f3d7f4>Registered</h5></div></div></div></div></section></section>',3)];const Y=U(H,[["render",function(e,t){return s(),i("main",K,J)}],["__scopeId","data-v-b3f3d7f4"]]),W={},$=e=>(a("data-v-ba575b6b"),e=e(),o(),e),Q={class:"lds-ellipsis"},X=[$((()=>r("div",null,null,-1))),$((()=>r("div",null,null,-1))),$((()=>r("div",null,null,-1))),$((()=>r("div",null,null,-1)))];const G=U(W,[["render",function(e,t){return s(),i("div",Q,X)}],["__scopeId","data-v-ba575b6b"]]),Z={key:0,class:"message-text"},ee=["onClick"],te={class:"relative m-3"},se=(e=>(a("data-v-8a9416ce"),e=e(),o(),e))((()=>r("svg",{class:"h-10 w-8"},[r("use",{href:"#fileIcon"})],-1))),ie={class:"top-0 text-[10px] text-center bottom-0 right-0 left-0 absolute leading-[40px]"},ne={class:"flex-col"},ae={class:"truncate w-40"},oe={class:"text-sm"},re={class:"m-3"},le={key:2,style:{display:"flex"}},ce=U(l({__name:"scrollMessage",props:{list:{type:Array,required:!0},modelIcon:{type:String,required:!0},msgLoading:{required:!0}},setup(e){const t=e;c(),d(!1);const n=d(null);return h(t.list,(e=>{_((()=>{n.value&&(n.value.scrollTop=n.value.scrollHeight)}))})),(e,a)=>{const o=f("v-md-preview"),l=w;return s(),i("div",{ref_key:"scrollView",ref:n,class:"messages"},[(s(!0),i(u,null,p(t.list,((e,t)=>(s(),i("div",{class:"message",style:v({justifyContent:"user"===e.role?"flex-end":""})},["string"==typeof e.content&&e.content.length>0?(s(),i("div",{key:0,class:"message-content",style:v({background:"user"===e.role?"transparent":""})},["user"===e.role?(s(),i("span",Z,[g(o,{style:v([{"word-break":"normal","background-color":"transparent  !important"},{textAlign:"left"}]),text:e.content},null,8,["text"])])):(s(),m(o,{key:1,style:v([{"word-break":"normal"},{textAlign:"left"}]),text:e.content},null,8,["text"]))],4)):b("",!0),"object"==typeof e.content?(s(),i("div",{key:1,onClick:t=>e.dialogVisible=!0,class:"shadow p-1 rounded-xl bg-black flex items-center"},[r("div",te,[se,r("div",ie,y(e.content.name.split(".")[1]),1)]),r("div",ne,[r("div",ae,y(e.content.name.split(".")[0]),1),r("div",oe,y(Math.round(e.content.size/1e3)+" kb"),1)]),g(l,{modelValue:e.dialogVisible,"onUpdate:modelValue":t=>e.dialogVisible=t},{header:x((({})=>[])),default:x((()=>[r("div",re,y(e.content.content),1)])),_:2},1032,["modelValue","onUpdate:modelValue"])],8,ee)):b("",!0),"string"==typeof e.content&&0==e.content.length?(s(),i("div",le,[g(G)])):b("",!0)],4)))),256))],512)}}}),[["__scopeId","data-v-8a9416ce"]]),de=q.create({baseURL:"https://plugin.benchyard.com",withCredentials:!0,timeout:6e4}),he=c();de.interceptors.request.use((e=>{let t=he.getToken;return t&&"-1"!=t&&(e.headers.Authorization="Bearer "+t),"-1"==t&&he.clear(),e}),(e=>Promise.reject(e))),de.interceptors.response.use((e=>{var t;const s=e.data;return(null==(t=s.data)?void 0:t.access_token)&&(he.refreshToken=s.data.refresh_token,he.updateToken(s.data.access_token)),s}),(e=>{var t;return 401==(null==(t=e.response)?void 0:t.status)&&"Invalid or expired refresh token"==e.response.data.message&&(he.clear(),he.loginRef.showModal()),Promise.reject(e)}));const fe=["src"],ue=U(l({__name:"avatarStack",props:{avatarUrls:Array},setup(e){const t=e,n=e=>({transform:`translateX(+${24*e}px)`,zIndex:10+e,marginLeft:-6*e+"px"});return(e,a)=>(s(),i("div",{class:"avatar-stack",style:v({width:24+18*(t.avatarUrls.length-1)+"px"})},[(s(!0),i(u,null,p(t.avatarUrls,((e,t)=>(s(),i("div",{key:t,class:"avatar-container",style:v(n(t))},[r("img",{src:e,class:"avatar"},null,8,fe)],4)))),128))],4))}}),[["__scopeId","data-v-96c99b9d"]]),pe=Object.create(null);pe.open="0",pe.close="1",pe.ping="2",pe.pong="3",pe.message="4",pe.upgrade="5",pe.noop="6";const ve=Object.create(null);Object.keys(pe).forEach((e=>{ve[pe[e]]=e}));const ge={type:"error",data:"parser error"},me="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),be="function"==typeof ArrayBuffer,ye=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,xe=({type:e,data:t},s,i)=>me&&t instanceof Blob?s?i(t):_e(t,i):be&&(t instanceof ArrayBuffer||ye(t))?s?i(t):_e(new Blob([t]),i):i(pe[e]+(t||"")),_e=(e,t)=>{const s=new FileReader;return s.onload=function(){const e=s.result.split(",")[1];t("b"+(e||""))},s.readAsDataURL(e)};function we(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ke;const Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Te="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let Wi=0;Wi<64;Wi++)Te[Ce.charCodeAt(Wi)]=Wi;const Ie="function"==typeof ArrayBuffer,Ae=(e,t)=>{if("string"!=typeof e)return{type:"message",data:Re(e,t)};const s=e.charAt(0);if("b"===s)return{type:"message",data:Ee(e.substring(1),t)};return ve[s]?e.length>1?{type:ve[s],data:e.substring(1)}:{type:ve[s]}:ge},Ee=(e,t)=>{if(Ie){const s=(e=>{let t,s,i,n,a,o=.75*e.length,r=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const c=new ArrayBuffer(o),d=new Uint8Array(c);for(t=0;t<r;t+=4)s=Te[e.charCodeAt(t)],i=Te[e.charCodeAt(t+1)],n=Te[e.charCodeAt(t+2)],a=Te[e.charCodeAt(t+3)],d[l++]=s<<2|i>>4,d[l++]=(15&i)<<4|n>>2,d[l++]=(3&n)<<6|63&a;return c})(e);return Re(s,t)}return{base64:!0,data:e}},Re=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Oe=String.fromCharCode(30);function Se(){return new TransformStream({transform(e,t){!function(e,t){me&&e.data instanceof Blob?e.data.arrayBuffer().then(we).then(t):be&&(e.data instanceof ArrayBuffer||ye(e.data))?t(we(e.data)):xe(e,!1,(e=>{ke||(ke=new TextEncoder),t(ke.encode(e))}))}(e,(s=>{const i=s.length;let n;if(i<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,i);else if(i<65536){n=new Uint8Array(3);const e=new DataView(n.buffer);e.setUint8(0,126),e.setUint16(1,i)}else{n=new Uint8Array(9);const e=new DataView(n.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(i))}e.data&&"string"!=typeof e.data&&(n[0]|=128),t.enqueue(n),t.enqueue(s)}))}})}let Be;function Le(e){return e.reduce(((e,t)=>e+t.length),0)}function Ne(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let i=0;for(let n=0;n<t;n++)s[n]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),s}function Ue(e){if(e)return function(e){for(var t in Ue.prototype)e[t]=Ue.prototype[t];return e}(e)}Ue.prototype.on=Ue.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Ue.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this},Ue.prototype.off=Ue.prototype.removeListener=Ue.prototype.removeAllListeners=Ue.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n=0;n<i.length;n++)if((s=i[n])===t||s.fn===t){i.splice(n,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},Ue.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(s){i=0;for(var n=(s=s.slice(0)).length;i<n;++i)s[i].apply(this,t)}return this},Ue.prototype.emitReserved=Ue.prototype.emit,Ue.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Ue.prototype.hasListeners=function(e){return!!this.listeners(e).length};const je="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function qe(e,...t){return t.reduce(((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t)),{})}const Pe=je.setTimeout,Fe=je.clearTimeout;function Me(e,t){t.useNativeTimers?(e.setTimeoutFn=Pe.bind(je),e.clearTimeoutFn=Fe.bind(je)):(e.setTimeoutFn=je.setTimeout.bind(je),e.clearTimeoutFn=je.clearTimeout.bind(je))}class De extends Error{constructor(e,t,s){super(e),this.description=t,this.context=s,this.type="TransportError"}}class Ve extends Ue{constructor(e){super(),this.writable=!1,Me(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,s){return super.emitReserved("error",new De(e,t,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Ae(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}(e);return t.length?"?"+t:""}}const ze="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),He=64,Ke={};let Je,Ye=0,We=0;function $e(e){let t="";do{t=ze[e%He]+t,e=Math.floor(e/He)}while(e>0);return t}function Qe(){const e=$e(+new Date);return e!==Je?(Ye=0,Je=e):e+"."+$e(Ye++)}for(;We<He;We++)Ke[ze[We]]=We;let Xe=!1;try{Xe="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Yi){}const Ge=Xe;function Ze(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Ge))return new XMLHttpRequest}catch(s){}if(!t)try{return new(je[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}function et(){}const tt=null!=new Ze({xdomain:!1}).responseType;class st extends Ue{constructor(e,t){super(),Me(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=qe(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const s=this.xhr=new Ze(t);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&s.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(i){}if("POST"===this.method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{s.setRequestHeader("Accept","*/*")}catch(i){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var e;3===s.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(s)),4===s.readyState&&(200===s.status||1223===s.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof s.status?s.status:0)}),0))},s.send(this.data)}catch(i){return void this.setTimeoutFn((()=>{this.onError(i)}),0)}"undefined"!=typeof document&&(this.index=st.requestsCount++,st.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=et,e)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete st.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(st.requestsCount=0,st.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",it);else if("function"==typeof addEventListener){addEventListener("onpagehide"in je?"pagehide":"unload",it,!1)}function it(){for(let e in st.requests)st.requests.hasOwnProperty(e)&&st.requests[e].abort()}const nt="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),at=je.WebSocket||je.MozWebSocket,ot="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const rt={websocket:class extends Ve{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,s=ot?{}:qe(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=ot?new at(e,t,s):t?new at(e,t):new at(e)}catch(Yi){return this.emitReserved("error",Yi)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],i=t===e.length-1;xe(s,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(t){}i&&nt((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Qe()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!at}},webtransport:class extends Ve{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=function(e,t){Be||(Be=new TextDecoder);const s=[];let i=0,n=-1,a=!1;return new TransformStream({transform(o,r){for(s.push(o);;){if(0===i){if(Le(s)<1)break;const e=Ne(s,1);a=128==(128&e[0]),n=127&e[0],i=n<126?3:126===n?1:2}else if(1===i){if(Le(s)<2)break;const e=Ne(s,2);n=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),i=3}else if(2===i){if(Le(s)<8)break;const e=Ne(s,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){r.enqueue(ge);break}n=a*Math.pow(2,32)+t.getUint32(4),i=3}else{if(Le(s)<n)break;const e=Ne(s,n);r.enqueue(Ae(a?e:Be.decode(e),t)),i=0}if(0===n||n>e){r.enqueue(ge);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(t).getReader(),i=Se();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const n=()=>{s.read().then((({done:e,value:t})=>{e||(this.onPacket(t),n())})).catch((e=>{}))};n();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],i=t===e.length-1;this.writer.write(s).then((()=>{i&&nt((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends Ve{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let s=location.port;s||(s=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||s!==e.port}const t=e&&e.forceBase64;this.supportsBinary=tt&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const s=e.split(Oe),i=[];for(let n=0;n<s.length;n++){const e=Ae(s[n],t);if(i.push(e),"error"===e.type)break}return i})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const s=e.length,i=new Array(s);let n=0;e.forEach(((e,a)=>{xe(e,!1,(e=>{i[a]=e,++n===s&&t(i.join(Oe))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Qe()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new st(this.uri(),e)}doWrite(e,t){const s=this.request({method:"POST",data:e});s.on("success",t),s.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},lt=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ct=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function dt(e){const t=e,s=e.indexOf("["),i=e.indexOf("]");-1!=s&&-1!=i&&(e=e.substring(0,s)+e.substring(s,i).replace(/:/g,";")+e.substring(i,e.length));let n=lt.exec(e||""),a={},o=14;for(;o--;)a[ct[o]]=n[o]||"";return-1!=s&&-1!=i&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const s=/\/{2,9}/g,i=t.replace(s,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||i.splice(0,1);"/"==t.slice(-1)&&i.splice(i.length-1,1);return i}(0,a.path),a.queryKey=function(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,i){t&&(s[t]=i)})),s}(0,a.query),a}let ht=class e extends Ue{constructor(e,t={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=dt(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=dt(t.host).host),Me(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},s=e.split("&");for(let i=0,n=s.length;i<n;i++){let e=s[i].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const s=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new rt[e](s)}open(){let t;if(this.opts.rememberUpgrade&&e.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(s){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(t){let s=this.createTransport(t),i=!1;e.priorWebsocketSuccess=!1;const n=()=>{i||(s.send([{type:"ping",data:"probe"}]),s.once("packet",(t=>{if(!i)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;e.priorWebsocketSuccess="websocket"===s.name,this.transport.pause((()=>{i||"closed"!==this.readyState&&(d(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=s.name,this.emitReserved("upgradeError",e)}})))};function a(){i||(i=!0,d(),s.close(),s=null)}const o=e=>{const t=new Error("probe error: "+e);t.transport=s.name,a(),this.emitReserved("upgradeError",t)};function r(){o("transport closed")}function l(){o("socket closed")}function c(e){s&&e.name!==s.name&&a()}const d=()=>{s.removeListener("open",n),s.removeListener("error",o),s.removeListener("close",r),this.off("close",l),this.off("upgrading",c)};s.once("open",n),s.once("error",o),s.once("close",r),this.once("close",l),this.once("upgrading",c),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{i||s.open()}),200):s.open()}onOpen(){if(this.readyState="open",e.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(e+="string"==typeof(t=i)?function(e){let t=0,s=0;for(let i=0,n=e.length;i<n;i++)t=e.charCodeAt(i),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(i++,s+=4);return s}(t):Math.ceil(1.33*(t.byteLength||t.size))),s>0&&e>this.maxPayload)return this.writeBuffer.slice(0,s);e+=2}var t;return this.writeBuffer}write(e,t,s){return this.sendPacket("message",e,t,s),this}send(e,t,s){return this.sendPacket("message",e,t,s),this}sendPacket(e,t,s,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof s&&(i=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const n={type:e,data:t,options:s};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?s():e()})):this.upgrading?s():e()),this}onError(t){e.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let s=0;const i=e.length;for(;s<i;s++)~this.transports.indexOf(e[s])&&t.push(e[s]);return t}};ht.protocol=4;const ft="function"==typeof ArrayBuffer,ut=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,pt=Object.prototype.toString,vt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===pt.call(Blob),gt="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===pt.call(File);function mt(e){return ft&&(e instanceof ArrayBuffer||ut(e))||vt&&e instanceof Blob||gt&&e instanceof File}function bt(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,s=e.length;t<s;t++)if(bt(e[t]))return!0;return!1}if(mt(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return bt(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&bt(e[s]))return!0;return!1}function yt(e){const t=[],s=e.data,i=e;return i.data=xt(s,t),i.attachments=t.length,{packet:i,buffers:t}}function xt(e,t){if(!e)return e;if(mt(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}if(Array.isArray(e)){const s=new Array(e.length);for(let i=0;i<e.length;i++)s[i]=xt(e[i],t);return s}if("object"==typeof e&&!(e instanceof Date)){const s={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=xt(e[i],t));return s}return e}function _t(e,t){return e.data=wt(e.data,t),delete e.attachments,e}function wt(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=wt(e[s],t);else if("object"==typeof e)for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=wt(e[s],t));return e}const kt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Ct,Tt;(Tt=Ct||(Ct={}))[Tt.CONNECT=0]="CONNECT",Tt[Tt.DISCONNECT=1]="DISCONNECT",Tt[Tt.EVENT=2]="EVENT",Tt[Tt.ACK=3]="ACK",Tt[Tt.CONNECT_ERROR=4]="CONNECT_ERROR",Tt[Tt.BINARY_EVENT=5]="BINARY_EVENT",Tt[Tt.BINARY_ACK=6]="BINARY_ACK";function It(e){return"[object Object]"===Object.prototype.toString.call(e)}class At extends Ue{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const s=t.type===Ct.BINARY_EVENT;s||t.type===Ct.BINARY_ACK?(t.type=s?Ct.EVENT:Ct.ACK,this.reconstructor=new Et(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!mt(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const s={type:Number(e.charAt(0))};if(void 0===Ct[s.type])throw new Error("unknown packet type "+s.type);if(s.type===Ct.BINARY_EVENT||s.type===Ct.BINARY_ACK){const i=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const n=e.substring(i,t);if(n!=Number(n)||"-"!==e.charAt(t))throw new Error("Illegal attachments");s.attachments=Number(n)}if("/"===e.charAt(t+1)){const i=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}s.nsp=e.substring(i,t)}else s.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const i=t+1;for(;++t;){const s=e.charAt(t);if(null==s||Number(s)!=s){--t;break}if(t===e.length)break}s.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(!At.isPayloadValid(s.type,i))throw new Error("invalid payload");s.data=i}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case Ct.CONNECT:return It(t);case Ct.DISCONNECT:return void 0===t;case Ct.CONNECT_ERROR:return"string"==typeof t||It(t);case Ct.EVENT:case Ct.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===kt.indexOf(t[0]));case Ct.ACK:case Ct.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Et{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=_t(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Rt=Object.freeze(Object.defineProperty({__proto__:null,Decoder:At,Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==Ct.EVENT&&e.type!==Ct.ACK||!bt(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Ct.EVENT?Ct.BINARY_EVENT:Ct.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Ct.BINARY_EVENT&&e.type!==Ct.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=yt(e),s=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(s),i}},get PacketType(){return Ct},protocol:5},Symbol.toStringTag,{value:"Module"}));function Ot(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const St=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Bt extends Ue{constructor(e,t,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ot(e,"open",this.onopen.bind(this)),Ot(e,"packet",this.onpacket.bind(this)),Ot(e,"error",this.onerror.bind(this)),Ot(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(St.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const s={type:Ct.EVENT,data:t,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,i=t.pop();this._registerAckCallback(e,i),s.id=e}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var s;const i=null!==(s=this.flags.timeout)&&void 0!==s?s:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const n=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),i);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(n),t.apply(this,[null,...e])}}emitWithAck(e,...t){const s=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((i,n)=>{t.push(((e,t)=>s?e?n(e):i(t):i(e))),this.emit(e,...t)}))}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(((e,...i)=>{if(s!==this._queue[0])return;return null!==e?s.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...i)),s.pending=!1,this._drainQueue()})),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ct.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ct.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ct.EVENT:case Ct.BINARY_EVENT:this.onevent(e);break;case Ct.ACK:case Ct.BINARY_ACK:this.onack(e);break;case Ct.DISCONNECT:this.ondisconnect();break;case Ct.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const s of t)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let s=!1;return function(...i){s||(s=!0,t.packet({type:Ct.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ct.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const s of t)s.apply(this,e.data)}}}function Lt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Lt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-s:e+s}return 0|Math.min(e,this.max)},Lt.prototype.reset=function(){this.attempts=0},Lt.prototype.setMin=function(e){this.ms=e},Lt.prototype.setMax=function(e){this.max=e},Lt.prototype.setJitter=function(e){this.jitter=e};class Nt extends Ue{constructor(e,t){var s;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Me(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(s=t.randomizationFactor)&&void 0!==s?s:.5),this.backoff=new Lt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||Rt;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ht(this.uri,this.opts);const t=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=Ot(t,"open",(function(){s.onopen(),e&&e()})),n=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=Ot(t,"error",n);if(!1!==this._timeout){const e=this._timeout,s=this.setTimeoutFn((()=>{i(),n(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ot(e,"ping",this.onping.bind(this)),Ot(e,"data",this.ondata.bind(this)),Ot(e,"error",this.onerror.bind(this)),Ot(e,"close",this.onclose.bind(this)),Ot(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){nt((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new Bt(this,e,t),this.nsps[e]=s),s}_destroy(e){const t=Object.keys(this.nsps);for(const s of t){if(this.nsps[s].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let s=0;s<t.length;s++)this.engine.write(t[s],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ut={};function jt(e,t){"object"==typeof e&&(t=e,e=void 0);const s=function(e,t="",s){let i=e;s=s||"undefined"!=typeof location&&location,null==e&&(e=s.protocol+"//"+s.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?s.protocol+e:s.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==s?s.protocol+"//"+e:"https://"+e),i=dt(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const n=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+n+":"+i.port+t,i.href=i.protocol+"://"+n+(s&&s.port===i.port?"":":"+i.port),i}(e,(t=t||{}).path||"/socket.io"),i=s.source,n=s.id,a=s.path,o=Ut[n]&&a in Ut[n].nsps;let r;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?r=new Nt(i,t):(Ut[n]||(Ut[n]=new Nt(i,t)),r=Ut[n]),s.query&&!t.query&&(t.query=s.queryKey),r.socket(s.path,t)}Object.assign(jt,{Manager:Nt,Socket:Bt,io:jt,connect:jt});const qt=c();class Pt{constructor(e,s){t(this,"model"),t(this,"messages"),t(this,"chatId"),t(this,"sio"),this.model=e,this.messages="",this.chatId=s||""}connectToSocketIO(e,t){this.sio=jt("https://api.benchyard.com",{path:"/ws",auth:{token:qt.token},transports:["websocket"]}),this.sio.on("connect",(()=>{var s;""==this.chatId?(s={chat_model:this.model},P.post("/api/chat/session/init",s)).then((s=>{this.chatId=s.data.id,e(t)})):e(t)})),this.sio.on("disconnect",(()=>{})),this.sio.on("connect_error",(s=>{var i;F({refresh_token:null==(i=qt.userInfo)?void 0:i.refresh_token}).then((()=>{""==this.chatId&&this.connectToSocketIO(e,t)}))}))}disconnectFromSocketIO(){this.sio&&this.sio.disconnect()}sendMessage(e,t){var s;(s={id:e,content:t},P.post("/api/chat/session/user-input",s)).then((e=>{this.messages=""})).catch((e=>{var t;"Unauthorized"==e.response.data.message&&F({refresh_token:null==(t=qt.userInfo)?void 0:t.refresh_token}).then((()=>{}))}))}sendUserInput(e){const t=this.chatId;this.sendMessage(t,e)}}const Ft=e=>(a("data-v-23c7ddf7"),e=e(),o(),e),Mt={key:0},Dt=[n('<div class="flex items-center grow relative m-[6px]" data-v-23c7ddf7><div class="flex flex-col min-w-[39px] mr-3" data-v-23c7ddf7><img class="w-9 h-9 object-cover grow min-h-[36px]" src="/assets/notLogin-a655f18d.svg" data-v-23c7ddf7></div><div class="flex flex-col min-w-[126px]" data-v-23c7ddf7><div class="flex flex-col gap-y-1.5 grow relative mt-[3px] mb-px ml-2" data-v-23c7ddf7><div class="text-[14px] leading-none font-[RobotoMedium] text-white tracking-[-0.15px]" data-v-23c7ddf7> Sign in </div><div class="text-[10px] leading-none font-[RobotoRegular] text-[rgb(124,135,142)] tracking-[-0.1px]" data-v-23c7ddf7> Unlock the power of Al </div></div></div></div>',1)],Vt={key:1},zt={class:"account"},Ht=["src"],Kt={key:1,class:"avatar-txt"},Jt={class:"flex flex-col justify-start items-start gap-1.5"},Yt={class:"username"},Wt={class:"email"},$t=[Ft((()=>r("svg",{class:"menu-icon icon-color1"},[r("use",{href:"#setting"})],-1))),Ft((()=>r("div",{class:"menu-text1"},"Setting",-1)))],Qt=[Ft((()=>r("svg",{class:"menu-icon icon-color2"},[r("use",{href:"#logOut"})],-1))),Ft((()=>r("div",{class:"menu-text2"},"Log out",-1)))],Xt=U(l({__name:"account",emits:["pannelChange"],setup(e,{expose:t,emit:n}){const a=c();k(),C();const o=d(),l=d(),h=d();d(""),d(!1),a.loginRef=l;const f=()=>{o.value.showModal()},p=()=>{l.value.showModal()},v=()=>{h.value.showModal()},m=()=>{a.clear(),a.loginRef.showModal()},b=()=>{n("pannelChange",-1)};return t({handleLogin:p}),(e,t)=>(s(),i(u,null,[null==T(a).getUserInfo?(s(),i("div",Mt,[r("div",{onClick:p,class:"partial-code flex flex-col hover:bg-[rgb(41,45,50)] rounded-[14px] h-[60px] relative"},Dt)])):(s(),i("div",Vt,[r("div",zt,[T(a).getUserInfo.avatar?(s(),i("img",{key:0,src:T(a).getUserInfo.avatar,width:"72",height:"72",class:"avatar",alt:""},null,8,Ht)):(s(),i("div",Kt,y(a.getUserInfo.username.charAt(0).toUpperCase()),1)),r("div",Jt,[r("div",Yt,y(T(a).getUserInfo.username),1),r("div",Wt,y(T(a).getUserInfo.email),1)]),r("div",{class:"absolute left-0 bg-[#292d32] account-menu w-full rounded-xl overflow-hidden"},[r("div",{class:"menu-item",onClick:b},$t),r("div",{class:"menu-item",onClick:m},Qt)])])])),g(D,{ref_key:"refRegister",ref:o,onToLogin:p},null,512),g(V,{ref_key:"refLogin",ref:l,onToRegister:f,onToFindPassword:v},null,512),g(z,{ref_key:"refFindPassword",ref:h,onToLogin:p,onToRegister:f},null,512)],64))}}),[["__scopeId","data-v-23c7ddf7"]]);c();const Gt=[{name:"Chatgpt3.5",icon:"/chatgpt3.svg",sendTo:"",messages:[{role:"assistant",content:"",cache:"Hi, I am Chatgpt 3.5. As a language AI assistant, I can help you with vocabulary translation, answer common questions, provide some advice and guidance, tell stories, and even engage in conversation with you. Just let me know what you need, and Iâ€™ll do my best to assist you."}],zoom:!1,liked:!1,enableChatSend:!0,hide:!1,key:"openai/gpt-3.5-turbo",avaliable:!0},{name:"Minimax",icon:"/minimax.svg",sendTo:"",messages:[{role:"assistant",content:"",cache:"æˆ‘æ˜¯MiniMaxå…¬å¸çš„æ™ºèƒ½åŠ©ç†ï¼Œä½ å¯ä»¥å«æˆ‘å°Mã€‚æˆ‘å¯ä»¥å¸®ä½ è§£ç­”å„ç§é—®é¢˜ï¼Œä¾‹å¦‚ç§‘æŠ€ã€å¨±ä¹ã€æ–‡åŒ–ã€åŽ†å²ã€åœ°ç†ç­‰æ–¹é¢çš„é—®é¢˜ã€‚å¦‚æžœä½ æœ‰ä»€ä¹ˆéœ€è¦ï¼Œè¯·éšæ—¶å‘æˆ‘æé—®ã€‚"}],zoom:!1,liked:!1,enableChatSend:!0,key:"minimax/abab5.5-chat",avaliable:!0,hide:!1},{name:"ChatGLM",icon:"/chatglm.png",sendTo:"",messages:[{role:"assistant",content:"",cache:"æˆ‘æ˜¯ä¸€ä¸ªåä¸º ChatGLM2-6B çš„äººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œæ˜¯åŸºäºŽæ¸…åŽå¤§å­¦ KEG å®žéªŒå®¤å’Œæ™ºè°± AI å…¬å¸äºŽ 2023 å¹´å…±åŒè®­ç»ƒçš„è¯­è¨€æ¨¡åž‹å¼€å‘çš„ã€‚æˆ‘çš„ä»»åŠ¡æ˜¯é’ˆå¯¹ç”¨æˆ·çš„é—®é¢˜å’Œè¦æ±‚æä¾›é€‚å½“çš„ç­”å¤å’Œæ”¯æŒã€‚"}],zoom:!1,liked:!1,enableChatSend:!0,key:"chatglm/chatglm_lite",avaliable:!0,hide:!1},{name:"Chatgpt4",icon:"/chatgpt4.svg",sendTo:"",messages:[{role:"assistant",content:"",cache:"Hi, I am Chatgpt 4"}],zoom:!1,liked:!1,enableChatSend:!0,key:"openai/gpt-4",avaliable:!0,hide:!1}],Zt=[{id:1,title:"Quick start",color:"#8D6584",editing:!1,tabs:[{id:2,title:"tab1",sendTo:"",models:[],editing:!1,enableChatSend:!0,files:[]}]},{id:4,color:"#3F90F0",title:"General",editing:!1,tabs:[{id:5,title:"tab1",sendTo:"",models:[],editing:!1,enableChatSend:!0,files:[]}]},{id:5,color:"#D84D0F",title:"Coding",editing:!1,tabs:[{id:51,title:"tab1",sendTo:"",models:[],editing:!1,enableChatSend:!0,files:[]}]},{id:6,color:"#8E56EA",title:"Writing",editing:!1,tabs:[{id:61,title:"tab1",sendTo:"",models:[],editing:!1,enableChatSend:!0,files:[]}]}],es=["#8D6584","#3F90F0","#D84D0F","#8E56EA","#7FCF19","#292D32"],ts=e=>(a("data-v-8134bd99"),e=e(),o(),e),ss=[ts((()=>r("use",{href:"#shrink"},null,-1)))],is=ts((()=>r("div",{class:"logo"},[r("svg",{class:"logo-icon"},[r("use",{href:"#BYlogo"})]),r("div",{class:"logo-text"},"Benchyard")],-1))),ns={class:"pannel"},as=["onClick"],os={key:0},rs=["autofocus","onUpdate:modelValue","onBlur","onKeydown"],ls=["onClick"],cs=[ts((()=>r("use",{href:"#delete"},null,-1)))],ds=[ts((()=>r("svg",{class:"menu-icon"},[r("use",{href:"#add"})],-1))),ts((()=>r("div",{class:"menu-text"},"Add panel",-1)))],hs=ts((()=>r("div",{style:{height:"108px"}},null,-1))),fs={style:{cursor:"pointer"}},us=U(l({__name:"menu",props:{pannels:{required:!0,type:Array},pannelId:{required:!0,type:Number},tabsId:{required:!0,type:Number}},emits:["update:pannelId","update:tabsId"],setup(e,{expose:t,emit:n}){const a=e,o=d(es),l=d(),c=d(null),h=d(!1),f=()=>{a.pannels.push({id:(new Date).getTime(),title:"new pannel",editing:!1,color:o.value[a.pannels.length%o.value.length],tabs:[{sendTo:"",id:(new Date).getTime(),title:"tab1",models:[],editing:!1,enableChatSend:!0,files:[]}]}),n("update:pannelId",a.pannels.length-1)},m=()=>{a.pannels[a.pannelId].editing=!0,_((()=>{c.value[0].focus()}))};return t({handleLogin:()=>{l.value.handleLogin()}}),(t,o)=>(s(),i("div",{class:"menu",style:v({width:h.value?"80px":"224px"})},[r("div",{class:"shrink-icon",onClick:o[0]||(o[0]=e=>h.value=!h.value)},[(s(),i("svg",{class:"h-2 w-2",style:v({transform:h.value?"rotate(180deg)":""})},ss,4))]),is,r("div",ns,[(s(!0),i(u,null,p(e.pannels,((t,o)=>(s(),i("div",{class:"menu-item",onDblclick:m,style:v({backgroundColor:a.pannelId==o?"#292D32":"",boxShadow:e.pannelId==o?"0px 4px 4px 0px rgba(0, 0, 0, 0.25)":""}),key:t.id,onClick:e=>(e=>{n("update:pannelId",e),n("update:tabsId",0)})(o)},[r("div",{class:"menu-icon",style:v({backgroundColor:t.color})},null,4),r("div",{class:"menu-text",style:v({color:e.pannelId==o?"#fff":""})},[t.editing?b("",!0):(s(),i("div",os,y(t.title),1)),t.editing?I((s(),i("input",{key:1,ref_for:!0,ref_key:"pannelRenameRef",ref:c,autofocus:t.editing,class:"p-0 w-24 rounded border border-solid border-white bg-transparent","onUpdate:modelValue":e=>t.title=e,onBlur:e=>t.editing=!1,onKeydown:E((e=>t.editing=!1),["enter"])},null,40,rs)),[[A,t.title]]):b("",!0)],4),h.value?b("",!0):(s(),i("svg",{key:0,class:"pannel-delete",onClick:R((e=>(e=>{1!==a.pannels.length&&(e<=a.pannelId&&0!=e&&n("update:pannelId",a.pannelId-1),a.pannels.splice(e,1))})(o)),["stop"])},cs,8,ls))],44,as)))),128)),r("div",{class:"menu-item",onClick:f},ds)]),hs,r("div",fs,[g(Xt,{ref_key:"accountRef",ref:l,onPannelChange:o[1]||(o[1]=e=>n("update:pannelId",-1))},null,512)])],4))}}),[["__scopeId","data-v-8134bd99"]]),ps=e=>(a("data-v-6dfa8988"),e=e(),o(),e),vs={class:"input-area",style:{position:"absolute",bottom:"16px",width:"calc(100% - 48px)",margin:"0 24px","z-index":"99"}},gs=["onKeydown"],ms={key:0,class:"flex gap-1 flex-wrap items-center"},bs=["onClick"],ys={class:"relative m-3"},xs=ps((()=>r("svg",{class:"h-10 w-8"},[r("use",{href:"#fileIcon"})],-1))),_s={key:0,class:"loader"},ws={key:1,class:"top-0 text-[10px] text-center bottom-0 right-0 left-0 absolute leading-[40px]"},ks={class:"flex-col"},Cs={class:"truncate w-40"},Ts={class:"text-sm"},Is={class:"max-h-80 overflow-scroll m-3"},As={class:"absolute top-2 right-2 cursor-pointer"},Es=["onClick"],Rs=[ps((()=>r("use",{href:"#delete"},null,-1)))],Os=[ps((()=>r("use",{href:"#send"},null,-1)))],Ss=ps((()=>r("label",{for:"file-upload",style:{bottom:"calc(50% - 21px)"},class:"absolute right-16 rounded-xl hover:animate-pulse cursor-pointer"},[r("svg",{class:"h-10 w-10 p-2"},[r("use",{href:"#uploadFile"})])],-1))),Bs=U(l({__name:"inputArea",props:{pannels:{required:!0,type:Array},pannelId:{required:!0,type:Number},tabsId:{required:!0,type:Number},inputDisable:{required:!0,type:Boolean}},emits:["login"],setup(e,{emit:t}){const n=e,a=c(),o=e=>{const t=f();t.sendTo=e.target.innerHTML;const s=/<span contenteditable="false"><a style="color:#7C82FF">@(.{1,10})<\/a><\/span>/g;let i;const n=[];for(;null!==(i=s.exec(t.sendTo));){const e=i[1];n.push(e)}t.models.forEach((e=>{e.hide||(e.isAt=!0,n.length>0&&(n.includes(e.name)||n.includes("All")||(e.isAt=!1)),e.sendTo=t.sendTo)}));const a=document.getElementById("myTextarea");a.style.height="5px",a.style.height=a.scrollHeight+"px"},l=e=>{e.preventDefault();const t=f();if(t.models.some((e=>!e.enableChatSend)))v("Please wait for the loading");else if(13==e.keyCode)if(e.shiftKey){t.sendTo+="\n";const e=document.getElementById("myTextarea"),s=(new Date).getTime();e.insertAdjacentHTML("beforeend","<br id ="+s.toString()+" >");const i=window.getSelection(),n=document.createRange(),a=document.getElementById(s.toString());a&&(n.setStartAfter(a),n.setEndAfter(a),i.removeAllRanges(),i.addRange(n)),e.style.height=e.scrollHeight+"px"}else d()},d=()=>{const e=f();if(e.files.some((e=>e.loading)))return void v("Please wait for the loading");if(e.models.some((e=>!e.enableChatSend)))return void v("Please wait for the loading");if(0===e.sendTo.length)return void v("Please input something,ok?");if(null==a.getUserInfo)return void t("login");e.models.forEach((t=>{if(t.sendTo.length>0&&t.isAt){let s="";e.files.length>0&&e.files.forEach((e=>{s=s+JSON.stringify(e)+"\n",t.messages.push({role:"user",content:e})})),t.messages.push({role:"user",content:t.sendTo}),t.chatInstance.sendUserInput(s+t.sendTo),t.msgLoading=!0,t.sendTo=""}})),e.files=[],e.sendTo="";const s=document.getElementById("myTextarea");s.style.height="5px",s.innerHTML=""},h=async e=>{const t=f();if(t.models.some((e=>!e.enableChatSend)))return void v("Please wait for the model to load");const s=e.target.files[0],i=new FormData;var n;(i.append("file",s),s.size>2e7)?v("File size is too large"):(t.files.push({name:s.name,size:s.size,content:"",loading:!0}),(n=i,de.post("/api/file/file-to-text",n)).then((e=>{t.models[0].enableChatSend=!0;const i=t.files.find((e=>e.name===s.name));i.content=e.data.content,i.loading=!1})).catch((e=>{const i=t.files.find((e=>e.name===s.name));i.loading=!1,i.error=!0,i.content=JSON.stringify(e)})),document.getElementById("file-upload").value="")},f=()=>n.pannels[n.pannelId].tabs[n.tabsId],v=e=>{B({message:e,type:"info",offset:-50,duration:1e3,appendTo:document.getElementById("myTextarea")})};return O((()=>{new S({trigger:"@",values:function(e,t){((e,t)=>{const s=[{key:"All",value:"All",icon:"/favicon.ico"}];f().models.forEach((e=>{e.sendTo=e.name,s.push({key:e.name,value:e.name,icon:e.icon})})),t(s)})(0,(e=>t(e)))},menuItemTemplate:function(e){return'<img class="icon" src="'+e.original.icon+'"><div style:"flex:1">'+e.string+"</div>"},selectTemplate:function(e){return'<span contenteditable="false" ><a style="color:#7C82FF">@'+e.original.value+"</a></span>"}}).attach(document.getElementById("myTextarea"));const e=document.getElementById("myTextarea");e.addEventListener("paste",(function(t){t.preventDefault();var s=t.clipboardData.getData("text/plain");o({target:{innerHTML:s}}),e.insertAdjacentHTML("beforeend",s),e.style.height=e.scrollHeight+"px"}))})),(e,t)=>{const n=w;return s(),i("div",vs,[r("p",{id:"myTextarea",contenteditable:"",class:"text-area",placeholder:"send to all bot, or use @ to send to specific bot",onInput:o,onKeydown:E(l,["enter"])},null,40,gs),f().files.length>0?(s(),i("div",ms,[(s(!0),i(u,null,p(f().files,(e=>(s(),i("div",{onClick:t=>e.dialogVisible=!0,class:"relative shadow p-1 rounded-xl bg-black flex items-center w-60"},[r("div",ys,[xs,e.loading?(s(),i("div",_s)):(s(),i("div",ws,y(e.name.split(".")[1]),1))]),r("div",ks,[r("div",Cs,y(e.name.split(".")[0]),1),r("div",Ts,y(Math.round(e.size/1e3)+" kb"),1)]),g(n,{modelValue:e.dialogVisible,"onUpdate:modelValue":t=>e.dialogVisible=t},{header:x((({})=>[])),default:x((()=>[r("div",Is,y(e.content),1)])),_:2},1032,["modelValue","onUpdate:modelValue"]),r("div",As,[(s(),i("svg",{onClick:R((t=>f().files.splice(f().files.indexOf(e),1)),["stop"]),class:"h-5 w-5"},Rs,8,Es))])],8,bs)))),256))])):b("",!0),(s(),i("svg",{onClick:d,style:{bottom:"calc(50% - 21px)"},class:"absolute right-2 h-10 w-10 p-3 rounded-xl bg-[#292D32] hover:animate-pulse cursor-pointer"},Os)),Ss,r("input",{id:"file-upload",class:"hidden",onChange:h,type:"file",accept:" .pdf, .docx, .html, .xlsx"},null,32)])}}}),[["__scopeId","data-v-6dfa8988"]]),Ls=e=>(a("data-v-cec55fef"),e=e(),o(),e),Ns=Ls((()=>r("div",{style:{flex:"1"}},null,-1))),Us=Ls((()=>r("div",{class:"text-center pb-6 text-slate-100 text-5xl font-bold leading-[48px]"},"Please select Bots!",-1))),js=Ls((()=>r("div",{class:"text-center pb-6 text-gray-500 text-lg font-normal leading-[18px]"},"Meet the chat app revolutionizing conversations",-1))),qs=Ls((()=>r("div",{style:{flex:"1"}},null,-1))),Ps={class:"w-[596px] flex flex-row gap-2.5 flex-wrap"},Fs={class:"shadow-self"},Ms=["onClick"],Ds={class:"relative flex-col justify-start items-center gap-5 flex"},Vs={class:"w-12 h-12 relative"},zs=["src"],Hs={class:"w-[108px] text-center text-white text-sm font-medium leading-[14px]"},Ks=[Ls((()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[r("rect",{width:"20",height:"20",rx:"4",fill:"#5F44FF"}),r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.1617 13.8555L4.40696 10.0888C4.04397 9.72469 4.04443 9.13536 4.40801 8.77178C4.77241 8.40739 5.36335 8.40786 5.72716 8.77283L8.61189 11.6667L14.6354 5.65689C14.9991 5.29398 15.5881 5.2943 15.9514 5.65761C16.3154 6.02153 16.315 6.61169 15.9507 6.97521L9.08853 13.8218C9.06701 13.8433 9.04432 13.8628 9.02069 13.8804C8.775 14.1003 8.39731 14.0919 8.1617 13.8555Z",fill:"white"})],-1)))],Js=Ls((()=>r("div",{style:{flex:"1"}},null,-1))),Ys=[Ls((()=>r("div",{class:"text-center text-white text-sm font-medium leading-[14px]"},"Go to chat!",-1)))],Ws=Ls((()=>r("div",{style:{flex:"1"}},null,-1))),$s=U(l({__name:"selectModelPage",emits:["selectConfirm","login"],setup(e,{emit:t}){const n=c(),a=L(Gt),o=d([]),l=e=>o.value.includes(e),h=()=>{null!=n.getUserInfo?0!==o.value.length?o.value.forEach((e=>{const s=a.find((t=>t.name===e));t("selectConfirm",s)})):B({message:"Please select at least one model",type:"success",duration:3e3}):t("login")};return(e,t)=>(s(),i(u,null,[Ns,Us,js,qs,r("div",Ps,[(s(!0),i(u,null,p(a,(e=>(s(),i("div",Fs,[r("div",{style:v({border:l(e.name)?"2px solid #5F44FF":"2px solid transparent"}),onClick:t=>(e=>{e.avaliable?l(e.name)?o.value=o.value.filter((t=>t!==e.name)):o.value.push(e.name):B({message:"This model is coming soon",type:"success",duration:3e3})})(e),class:"w-[138px] h-[152px] px-4 py-9 hover:bg-[#393E44] rounded-2xl flex-col justify-start items-start gap-2.5 inline-flex"},[r("div",Ds,[r("div",Vs,[r("img",{class:"w-12 h-12",src:e.icon},null,8,zs)]),r("div",Hs,y(e.name),1),r("div",{class:"absolute -top-6 -right-0",style:v({display:l(e.name)?"block":"none"})},Ks,4)])],12,Ms)])))),256))]),Js,r("div",{onClick:h,class:"cursor-pointer w-[232px] h-[34px] px-4 bg-indigo-600 rounded-xl justify-center items-center gap-2 inline-flex"},Ys),Ws],64))}}),[["__scopeId","data-v-cec55fef"]]),Qs=e=>(a("data-v-f00b7a47"),e=e(),o(),e),Xs={class:"main"},Gs={key:0,class:"main-view"},Zs={class:"tabs-panel"},ei={class:"flex tabs-name"},ti=["onClick"],si=["href"],ii=["onClick"],ni=[Qs((()=>r("use",{href:"#delete"},null,-1)))],ai={key:0},oi={class:"tabs-content"},ri={class:"chat-room chat-room-origin"},li={class:"chat-room-title"},ci=["src"],di={class:"chat-room-name"},hi={class:"chat-room-setting"},fi=["onClick"],ui=[Qs((()=>r("use",{href:"#trash"},null,-1)))],pi=["onClick"],vi=["href"],gi={key:1,class:"w-full h-full flex flex-col justify-center items-center"},mi={style:{padding:"16px 16px 0 22px",cursor:"pointer"}},bi=["href"],yi={class:"w-[256px] flex-1 transition-all duration-500 overflow-hidden"},xi={class:"flex flex-col relative pt-1.5 px-4 h-full"},_i={key:0,class:"flex-1"},wi={class:"overflow-scroll no-scrollbar felx-1"},ki={class:"restModel flex items-center relative justify-between hover:bg-[#393E44] p-2 rounded-full"},Ci={class:"flex items-center gap-4"},Ti={class:"flex flex-col min-w-[32px]"},Ii=["src"],Ai=["onClick"],Ei=[Qs((()=>r("svg",{class:"w-5 object-cover grow mx-2 right"},[r("use",{href:"#right"})],-1))),Qs((()=>r("svg",{class:"w-5 object-cover grow mx-2 removeModel"},[r("use",{href:"#removeModel"})],-1)))],Ri={class:"restModel cursor-pointer flex items-center relative justify-between hover:bg-[#393E44] p-2 rounded-full"},Oi={class:"flex items-center gap-4"},Si={class:"flex flex-col min-w-[32px]"},Bi=["src"],Li=["onClick"],Ni=[Qs((()=>r("svg",{class:"w-5 object-cover grow mx-2 right"},[r("use",{href:"#addModel"})],-1))),Qs((()=>r("svg",{class:"w-5 object-cover grow mx-2 removeModel"},[r("use",{href:"#right"})],-1)))],Ui={key:1},ji=["onClick"],qi={class:"flex flex-col min-w-[32px]"},Pi=["src"],Fi=Qs((()=>r("div",{class:"basis-4"},null,-1))),Mi={class:"font-medium text-[14px] leading-none font-Roboto text-[rgb(124,135,142)] tracking-[-0.15px] shrink-0 basis-[78px] my-[11px]"},Di=n('<div class="basis-[38px]" data-v-f00b7a47></div><div class="flex flex-col min-w-[20px]" data-v-f00b7a47><svg class="w-5 h-5 object-cover grow min-h-[20px] my-2" data-v-f00b7a47><use href="#thumbs" data-v-f00b7a47></use></svg></div><div class="flex flex-col min-w-[24px]" data-v-f00b7a47><div class="font-medium text-[14px] leading-none font-Roboto text-[rgb(124,135,142)] tracking-[-0.15px] grow mt-[11px] mb-[11px] ml-1" data-v-f00b7a47> 3.4</div></div>',3),Vi={key:1,class:"main-view"},zi=[Qs((()=>r("div",{class:"w-full pt-8 flex justify-center text-4xl animate-pulse"},"All in one API is coming soon ...",-1)))],Hi={key:2,class:"main-view"},Ki={key:3,class:"main-view"},Ji=U(l({__name:"home",setup(e){const t=c(),n=L((M({key:"pannels"}).then((e=>Zt)).catch((e=>Zt)),Zt));h(n,((e,s)=>{null!=t.getUserInfo&&t.updatePannels(n)}),{deep:!0});const a=L(Gt);let o=L([]);const l=d(!0),f=d(0),m=d(0),x=d(!1),_=d(""),w=d(null),k=e=>{const t=A(),s=t.models.findIndex((t=>t.name===e));var i;(i={id:t.models[s].chatInstance.chatId},P.post("/api/chat/archive-session",i)).then((e=>{})),t.models[s].chatInstance.disconnectFromSocketIO(),t.models.splice(s,1),x.value=!1},C=e=>{if(!e.avaliable)return void B({message:"This model is coming soon",type:"success",duration:3e3});const t=A();if(-1===t.models.findIndex((t=>t.name===e.name))){t.models.push(JSON.parse(JSON.stringify(e)));const s=t.models[t.models.length-1];s.enableChatSend=!1,s.chatInstance=new Pt(s.key,""),s.chatInstance.connectToSocketIO(E,s)}},I=()=>A().models.filter((e=>!e.hide)),A=()=>n[f.value].tabs[m.value];O((()=>{var e;null==t.getUserInfo?w.value.handleLogin():(F({refresh_token:null==(e=t.userInfo)?void 0:e.refresh_token}),n.forEach((e=>{e.tabs.forEach((e=>{e.models.forEach((e=>{e.chatId&&(e.chatInstance=new Pt(e.key,e.chatId),e.chatInstance.connectToSocketIO(E,e))}))}))}))),setInterval((()=>{var e;null!=t.getUserInfo&&F({refresh_token:null==(e=t.userInfo)?void 0:e.refresh_token})}),18e5)}));const E=e=>{e.chatId=e.chatInstance.chatId,e.enableChatSend=!0,e.setIntervalInstance=setInterval((()=>{const t=e.messages[e.messages.length-1];t.cache.length>0?(t.content+=t.cache[0],t.cache=t.cache.substring(1)):e.enableChatSend&&clearInterval(e.setIntervalInstance)}),10),e.chatInstance.sio.on("message",(t=>{e.chatInstance.chatId===t.chat_id&&("user"===t.origin?(e.enableChatSend=!1,e.messages.push({role:"assistant",content:"",cache:""}),e.setIntervalInstance=setInterval((()=>{const t=e.messages[e.messages.length-1];t.cache.length>0?(t.content+=t.cache[0],t.cache=t.cache.substring(1)):e.enableChatSend&&clearInterval(e.setIntervalInstance)}),10)):e.enableChatSend=!0)})),e.chatInstance.sio.on("message-update",(t=>{e.chatInstance.chatId===t.chat_id&&(e.msgLoading=!1,e.messages[e.messages.length-1].cache+=t.content)}))};return(e,t)=>(s(),i("div",Xs,[g(us,{ref_key:"menuRef",ref:w,"pannel-id":f.value,"onUpdate:pannelId":t[0]||(t[0]=e=>f.value=e),"tabs-id":m.value,"onUpdate:tabsId":t[1]||(t[1]=e=>m.value=e),pannels:n},null,8,["pannel-id","tabs-id","pannels"]),f.value>=0?(s(),i("div",Gs,[r("div",{class:"tabs transition-all duration-500",style:v({width:l.value?"calc(100% - 256px)":"calc(100% - 80px)"})},[r("div",Zs,[(s(!0),i(u,null,p(A().models,(e=>(s(),i("div",ei,[g(ue,{class:"tab-icon","avatar-urls":[e.icon]},null,8,["avatar-urls"]),(s(),i("svg",{class:"tab-hide",onClick:R((t=>e.hide=!e.hide),["stop"])},[r("use",{href:e.hide?"#hide":"#unhide"},null,8,si)],8,ti)),(s(),i("svg",{class:"tab-delete",onClick:R((t=>k(e.name)),["stop"])},ni,8,ii))])))),256))]),0!=A().models.length?(s(),i("div",ai,[g(Bs,{pannels:n,"pannel-id":f.value,"tabs-id":m.value,onLogin:t[2]||(t[2]=e=>w.value.handleLogin())},null,8,["pannels","pannel-id","tabs-id"])])):b("",!0),r("div",oi,[0!=A().models.length?(s(),i("div",{key:0,class:"w-full h-full flex justify-start flex-wrap no-scrollbar",style:v({overflow:x.value?"hidden":"scroll"})},[(s(!0),i(u,null,p(I(),((e,t)=>(s(),i("div",{key:e.name,class:N(["min-h-[421px] px-1 pb-2",[1===I().length?"w-full h-full ":2===I().length?"w-1/2 h-full":"w-1/2 h-1/2"]])},[r("div",ri,[r("div",li,[r("img",{class:"chat-room-avatar",src:e.icon,alt:""},null,8,ci),r("div",di,y(e.name),1),r("div",hi,[(s(),i("svg",{class:"chat-room-setting-icon",onClick:t=>k(e.name)},ui,8,fi)),(s(),i("svg",{class:"chat-room-setting-icon",onClick:t=>(e=>{e.zoom=!e.zoom,x.value=!x.value,A().models.forEach((t=>{t.name!==e.name&&(t.hide=!t.hide)}))})(e)},[r("use",{href:x.value?"#zoomOut":"#zoomIn"},null,8,vi)],8,pi))])]),g(ce,{list:e.messages,modelIcon:e.icon,msgLoading:e.msgLoading},null,8,["list","modelIcon","msgLoading"])])],2)))),128))],4)):b("",!0),0==A().models.length?(s(),i("div",gi,[g($s,{onSelectConfirm:C,onLogin:t[3]||(t[3]=e=>w.value.handleLogin())})])):b("",!0)])],4),r("div",{class:"model-selection transition-all duration-500",style:v({width:l.value?"256px":"80px"})},[r("div",mi,[(s(),i("svg",{style:{height:"24px",width:"24px",margin:"6px"},onClick:t[4]||(t[4]=e=>l.value=!l.value)},[r("use",{href:l.value?"#expand2":"#expand"},null,8,bi)]))]),r("div",yi,[r("div",xi,[""===_.value?(s(),i("div",_i,[r("div",{class:"text-gray-500 text-sm font-bold leading-none p-2 whitespace-nowrap",style:v({opacity:l.value?"":"0"})},"Bot Hub",4),r("div",wi,[(s(!0),i(u,null,p(A().models,(e=>(s(),i("div",ki,[r("div",Ci,[r("div",Ti,[r("img",{class:"rounded-[18px] w-8 h-8 object-cover grow min-h-[32px]",src:e.icon},null,8,Ii)]),r("div",{style:v({opacity:l.value?"":"0"}),class:"model-name font-[500] text-[14px] leading-none font-[RobotoRegular] text-[rgb(124,135,142)] tracking-[-0.15px] shrink-0 basis-[78px] my-[11px]"},y(e.name),5)]),r("div",{class:"flex flex-col min-w-[20px] cursor-pointer",onClick:t=>k(e.name)},Ei,8,Ai)])))),256)),(s(!0),i(u,null,p(a.filter((e=>-1===A().models.findIndex((t=>t.name===e.name)))),(e=>(s(),i("div",Ri,[r("div",Oi,[r("div",Si,[r("img",{class:"rounded-[18px] w-8 h-8 object-cover grow min-h-[32px]",src:e.icon},null,8,Bi)]),r("div",{style:v({opacity:l.value?"":"0"}),class:"model-name font-[500] text-[14px] leading-none font-[RobotoRegular] text-[rgb(124,135,142)] tracking-[-0.15px] shrink-0 basis-[78px] my-[11px]"},y(e.name),5)]),r("div",{class:"flex flex-col min-w-[20px] cursor-pointer",onClick:t=>C(e)},Ni,8,Li)])))),256))])])):(s(),i("div",Ui,[(s(!0),i(u,null,p(T(o),(e=>(s(),i("div",{onClick:t=>C(e),class:"cursor-pointer flex items-center relative mt-3.5 mx-1.5"},[r("div",qi,[r("img",{class:"rounded-[16px] w-8 h-8 object-cover grow min-h-[32px]",src:e.icon},null,8,Pi)]),Fi,r("div",Mi,y(e.name),1),Di],8,ji)))),256))]))])])],4)])):b("",!0),-3==f.value?(s(),i("div",Vi,zi)):b("",!0),-2==f.value?(s(),i("div",Hi,[g(Y)])):b("",!0),-1==f.value?(s(),i("div",Ki,[g(j)])):b("",!0)]))}}),[["__scopeId","data-v-f00b7a47"]]);export{Ji as default};
